{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Andrey\\\\Documents\\\\GitHub\\\\movies-explorer-frontend\\\\src\\\\components\\\\App\\\\App.js\",\n  _s = $RefreshSig$();\nimport \"./App.css\";\nimport { Redirect, Route, Switch, useHistory } from \"react-router-dom\";\nimport { useState, useEffect } from \"react\";\nimport ProtectedRoute from \"../ProtectedRoute/ProtectedRoute\";\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\nimport Header from \"../Header/Header\";\nimport Footer from \"../Footer/Footer\";\nimport Main from \"../Main/Main\";\nimport Movies from \"../Movies/Movies\";\nimport SavedMovies from \"../SavedMovies/SavedMovies\";\nimport PageNotFound from \"../PageNotFound/PageNotFound\";\nimport InfoTooltip from \"../InfoTooltip/InfoTooltip\";\nimport Register from \"../Register/Register\";\nimport Login from \"../Login/Login\";\nimport Profile from \"../Profile/Profile\";\nimport * as auth from \"../../utils/auth\";\nimport mainApi from \"../../utils/MainApi\";\nimport moviesApi from \"../../utils/MoviesApi\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const history = useHistory();\n  const [checkboxStatus, setCheckboxStatus] = useState(true);\n  const headerEndpoints = [\"/movies\", \"/saved-movies\", \"/profile\", \"/\"];\n  const footerEndpoints = [\"/movies\", \"/saved-movies\", \"/\"];\n  const [isTooltipPopupOpen, setIsTooltipPopupOpen] = useState(false);\n  const [isBurgerMenuOpen, setIsBurgerMenuOpen] = useState(false);\n  const [isLoading, setIsLoading] = useState(false); //для дизейбла кнопки, если происходит запрос\n\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [success, setSuccess] = useState(false);\n  const [popupText, setPopupText] = useState(\"\");\n  const [currentUser, setCurrentUser] = useState({\n    name: \"\",\n    email: \"\",\n    _id: \"\"\n  });\n  const [allMovies, setAllMovies] = useState([]);\n  const [foundMovies, setFoundMovies] = useState([]);\n  const [savedMovies, setSavedMovies] = useState([]);\n  const [savedMoviesCopy, setSavedMoviesCopy] = useState([]);\n  const [disabledCheckbox, setDisabledCheckbox] = useState(true);\n  const [disabledCheckboxSaved, setDisabledCheckboxSaved] = useState(true);\n  const [preloaderStatus, setPreloaderStatus] = useState(false);\n  useEffect(() => {\n    tokenCheck();\n  }, []);\n  useEffect(() => {\n    if (!localStorage.getItem(\"jwt\")) {\n      handleSignout();\n    }\n  }, []);\n  useEffect(() => {\n    if (localStorage.getItem(\"searchedMovies\") && localStorage.getItem(\"checkboxStatus\")) {\n      const checkboxStatus = JSON.parse(localStorage.getItem(\"checkboxStatus\"));\n      handleSubmitCheckbox(checkboxStatus);\n    }\n  }, []);\n\n  //блокировка чекбокса если нет найденных фильмов\n  useEffect(() => {\n    foundMovies.length !== 0 ? setDisabledCheckbox(false) : setDisabledCheckbox(true);\n  }, [foundMovies]);\n\n  //блокировка чекбокса если нет сохраненных фильмов\n  useEffect(() => {\n    savedMovies.length !== 0 || savedMoviesCopy.length !== 0 ? setDisabledCheckboxSaved(false) : setDisabledCheckboxSaved(true);\n  }, [savedMovies, savedMoviesCopy]);\n  useEffect(() => {\n    if (loggedIn && currentUser) {\n      getSavedMovies();\n    }\n  }, [loggedIn, currentUser]);\n  function getSavedMovies() {\n    mainApi.getSavedMovies().then(data => {\n      const userMovies = data.filter(m => m.owner === currentUser._id);\n      setSavedMovies(userMovies);\n      setSavedMoviesCopy(userMovies);\n    }).catch(err => console.log(err));\n  }\n  function tokenCheck() {\n    if (localStorage.getItem(\"jwt\")) {\n      mainApi.getUserInfo().then(response => {\n        if (response) {\n          setCurrentUser({\n            name: response.name,\n            email: response.email,\n            _id: response._id\n          });\n          setLoggedIn(true);\n        }\n      }).catch(err => {\n        if (err.status === 401) {\n          handleSignout();\n        } else {\n          handleSignout();\n          setIsTooltipPopupOpen(true);\n          setSuccess(false);\n          setPopupText(`Ошибка ${err.statusText}`);\n        }\n      });\n    }\n  }\n  function closePopup() {\n    setIsTooltipPopupOpen(false);\n  }\n  function toggleBurgerMenuClick() {\n    setIsBurgerMenuOpen(!isBurgerMenuOpen);\n  }\n  function handleSearchMovie(movie, checked) {\n    if (allMovies.length !== 0) {\n      const searchMovies = allMovies.filter(item => item.nameRU.toLowerCase().includes(movie.toLowerCase()));\n      if (searchMovies.length === 0) {\n        setIsTooltipPopupOpen(true);\n        setPopupText(\"По вашему запросу ничего не найдено..\");\n        setSuccess(false);\n      } else {\n        setCheckboxStatus(false);\n        localStorage.setItem(\"movieName\", movie);\n        localStorage.setItem(\"searchedMovies\", JSON.stringify(searchMovies));\n        localStorage.setItem(\"checkboxStatus\", JSON.stringify(checked));\n        setFoundMovies(searchMovies);\n      }\n      return;\n    } else {\n      setPreloaderStatus(true);\n      moviesApi.getMovies().then(moviesFromSearch => {\n        const searchMovies = moviesFromSearch.filter(item => item.nameRU.toLowerCase().includes(movie.toLowerCase()));\n        if (searchMovies.length === 0) {\n          setIsTooltipPopupOpen(true);\n          setPopupText(\"По вашему запросу ничего не найдено.\");\n          setSuccess(false);\n        } else {\n          setCheckboxStatus(false);\n          localStorage.setItem(\"allMovies\", JSON.stringify(moviesFromSearch));\n          setAllMovies(moviesFromSearch);\n          localStorage.setItem(\"movieName\", movie);\n          localStorage.setItem(\"searchedMovies\", JSON.stringify(searchMovies));\n          localStorage.setItem(\"checkboxStatus\", JSON.stringify(checked));\n          setFoundMovies(searchMovies);\n        }\n      }).catch(err => console.log(err)).finally(() => setPreloaderStatus(false));\n    }\n  }\n  function handleSearchSavedMovie(query, checkbox) {\n    setPreloaderStatus(true);\n    const searchMovies = savedMovies.filter(item => item.nameRU.toLowerCase().includes(query.toLowerCase()));\n    if (searchMovies.length === 0) {\n      setIsTooltipPopupOpen(true);\n      setPopupText(\"По вашему запросу ничего не найдено.\");\n      setSuccess(false);\n      setPreloaderStatus(false);\n    } else {\n      setCheckboxStatus(false);\n      localStorage.setItem(\"checkboxStatus\", JSON.stringify(checkbox));\n      setSavedMovies(searchMovies);\n      setPreloaderStatus(false);\n    }\n  }\n  function handleSubmitCheckbox(checkbox) {\n    let filteredMovies;\n    let movies = JSON.parse(localStorage.getItem(\"searchedMovies\"));\n    if (checkbox) {\n      filteredMovies = movies.filter(item => item.duration <= 40);\n    } else if (!checkbox) {\n      filteredMovies = movies;\n    }\n    setFoundMovies(filteredMovies);\n    localStorage.setItem(\"checkboxStatus\", JSON.stringify(checkbox));\n  }\n  function handleSavedMoviesSubmitCheckbox(checkbox) {\n    if (checkbox) {\n      setSavedMovies(savedMovies.filter(item => item.duration <= 40));\n    } else if (!checkbox) {\n      setSavedMovies(savedMoviesCopy);\n    }\n    localStorage.setItem(\"checkboxStatusSavedMovies\", JSON.stringify(checkbox));\n  }\n  function handleDeleteMovie(movie) {\n    mainApi.deleteMovie(movie._id).then(() => {\n      const updateSavedMovies = savedMovies.filter(item => item._id !== movie._id);\n      setSavedMovies(updateSavedMovies);\n      setSavedMoviesCopy(savedMoviesCopy.filter(item => item._id !== movie._id));\n    }).catch(err => console.log(err));\n  }\n  function handleSaveMovie(movie) {\n    mainApi.createMovie(movie).then(res => {\n      setSavedMovies(savedMovies.concat(res));\n      setSavedMoviesCopy(savedMoviesCopy.concat(res));\n    }).catch(err => console.log(err));\n  }\n  function handleUpdateUser({\n    name,\n    email\n  }) {\n    setIsLoading(true);\n    mainApi.editUserInfo({\n      name,\n      email\n    }).then(newData => {\n      setCurrentUser({\n        name: newData.name,\n        email: newData.email\n      });\n      setIsTooltipPopupOpen(true);\n      setSuccess(true);\n      setPopupText(\"Данные успешно изменены.\");\n    }).catch(err => {\n      setIsTooltipPopupOpen(true);\n      setSuccess(false);\n      setPopupText(`Ошибка: ${err}`);\n    }).finally(() => setIsLoading(false));\n  }\n  function handleRegister({\n    name,\n    email,\n    password\n  }) {\n    setIsLoading(true);\n    auth.createUser({\n      name,\n      email,\n      password\n    }).then(() => {\n      handleLogin({\n        email,\n        password\n      });\n      history.push(\"/movies\");\n    }).catch(err => {\n      console.log(err);\n      if (err.status === 409) {\n        setSuccess(false);\n        setPopupText(\"Пользователь с таким email уже зарегистрирован.\");\n        setIsTooltipPopupOpen(true);\n      }\n      if (err.status === 500) {\n        setSuccess(false);\n        setPopupText(\"Произошла ошибка. Попробуйте ещё раз.\");\n        setIsTooltipPopupOpen(true);\n      }\n    }).finally(() => {\n      setIsLoading(false);\n    });\n  }\n  function handleLogin({\n    email,\n    password\n  }) {\n    setIsLoading(true);\n    auth.authorize({\n      email,\n      password\n    }).then(data => {\n      if (!data) {\n        return console.log(\"Что-то пошло не так!\");\n      }\n      if (data.token) {\n        localStorage.setItem(\"jwt\", data.token);\n        setLoggedIn(true);\n        tokenCheck();\n        history.push(\"/movies\");\n      }\n    }).catch(err => {\n      if (err.status === 401) {\n        setSuccess(false);\n        setPopupText(\"Неверный логин или пароль.\");\n        setIsTooltipPopupOpen(true);\n      }\n      if (err.status === 500) {\n        setSuccess(false);\n        setPopupText(\"Произошла ошибка. Попробуйте ещё раз.\");\n        setIsTooltipPopupOpen(true);\n      }\n    }).finally(() => setIsLoading(false));\n  }\n  function handleSignout() {\n    localStorage.clear();\n    setLoggedIn(false);\n    setFoundMovies([]);\n    setAllMovies([]);\n    setSavedMovies([]);\n    setCurrentUser({\n      name: \"\",\n      email: \"\",\n      _id: \"\"\n    });\n    history.push(\"/\");\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(CurrentUserContext.Provider, {\n      value: currentUser,\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: headerEndpoints,\n        children: /*#__PURE__*/_jsxDEV(Header, {\n          onBurgerClick: toggleBurgerMenuClick,\n          isOpen: isBurgerMenuOpen,\n          loggedIn: loggedIn\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Switch, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/\",\n          children: /*#__PURE__*/_jsxDEV(Main, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n          path: \"/movies\",\n          component: Movies,\n          onSearch: handleSearchMovie,\n          foundMovies: foundMovies,\n          savedMovies: savedMovies,\n          onSaveMovie: handleSaveMovie,\n          onDeleteMovie: handleDeleteMovie,\n          disabled: checkboxStatus,\n          onSubmitCheckbox: handleSubmitCheckbox,\n          disabledCheckbox: disabledCheckbox,\n          preloaderStatus: preloaderStatus\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n          path: \"/saved-movies\",\n          component: SavedMovies,\n          onSearch: handleSearchSavedMovie,\n          savedMovies: savedMovies,\n          onSubmitCheckbox: handleSavedMoviesSubmitCheckbox,\n          disabled: checkboxStatus,\n          onDeleteMovie: handleDeleteMovie,\n          onSaveMovie: handleSaveMovie,\n          disabledCheckboxSaved: disabledCheckboxSaved,\n          preloaderStatus: preloaderStatus\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/signup\",\n          children: loggedIn ? /*#__PURE__*/_jsxDEV(Redirect, {\n            to: \"/\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(Register, {\n            onRegister: handleRegister,\n            isLoading: isLoading\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/signin\",\n          children: loggedIn ? /*#__PURE__*/_jsxDEV(Redirect, {\n            to: \"/\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(Login, {\n            onLogin: handleLogin,\n            history: history,\n            isLoading: isLoading\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n          path: \"/profile\",\n          component: Profile,\n          onSignout: handleSignout,\n          loggedIn: loggedIn,\n          onUpdateUser: handleUpdateUser,\n          isLoading: isLoading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"*\",\n          component: PageNotFound,\n          history: history\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: footerEndpoints,\n        component: Footer\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 414,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InfoTooltip, {\n        isOpen: isTooltipPopupOpen,\n        onClose: closePopup,\n        success: success,\n        text: popupText\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 415,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 348,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"9jU2lVrT+nv2qUHA7hNvAyKVURI=\", false, function () {\n  return [useHistory];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["Redirect","Route","Switch","useHistory","useState","useEffect","ProtectedRoute","CurrentUserContext","Header","Footer","Main","Movies","SavedMovies","PageNotFound","InfoTooltip","Register","Login","Profile","auth","mainApi","moviesApi","jsxDEV","_jsxDEV","App","_s","history","checkboxStatus","setCheckboxStatus","headerEndpoints","footerEndpoints","isTooltipPopupOpen","setIsTooltipPopupOpen","isBurgerMenuOpen","setIsBurgerMenuOpen","isLoading","setIsLoading","loggedIn","setLoggedIn","success","setSuccess","popupText","setPopupText","currentUser","setCurrentUser","name","email","_id","allMovies","setAllMovies","foundMovies","setFoundMovies","savedMovies","setSavedMovies","savedMoviesCopy","setSavedMoviesCopy","disabledCheckbox","setDisabledCheckbox","disabledCheckboxSaved","setDisabledCheckboxSaved","preloaderStatus","setPreloaderStatus","tokenCheck","localStorage","getItem","handleSignout","JSON","parse","handleSubmitCheckbox","length","getSavedMovies","then","data","userMovies","filter","m","owner","catch","err","console","log","getUserInfo","response","status","statusText","closePopup","toggleBurgerMenuClick","handleSearchMovie","movie","checked","searchMovies","item","nameRU","toLowerCase","includes","setItem","stringify","getMovies","moviesFromSearch","finally","handleSearchSavedMovie","query","checkbox","filteredMovies","movies","duration","handleSavedMoviesSubmitCheckbox","handleDeleteMovie","deleteMovie","updateSavedMovies","handleSaveMovie","createMovie","res","concat","handleUpdateUser","editUserInfo","newData","handleRegister","password","createUser","handleLogin","push","authorize","token","clear","className","children","Provider","value","exact","path","onBurgerClick","isOpen","fileName","_jsxFileName","lineNumber","columnNumber","component","onSearch","onSaveMovie","onDeleteMovie","disabled","onSubmitCheckbox","to","onRegister","onLogin","onSignout","onUpdateUser","onClose","text","_c","$RefreshReg$"],"sources":["C:/Users/Andrey/Documents/GitHub/movies-explorer-frontend/src/components/App/App.js"],"sourcesContent":["import \"./App.css\";\n\nimport { Redirect, Route, Switch, useHistory } from \"react-router-dom\";\n\nimport { useState, useEffect } from \"react\";\n\nimport ProtectedRoute from \"../ProtectedRoute/ProtectedRoute\";\n\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\n\nimport Header from \"../Header/Header\";\nimport Footer from \"../Footer/Footer\";\n\nimport Main from \"../Main/Main\";\n\nimport Movies from \"../Movies/Movies\";\nimport SavedMovies from \"../SavedMovies/SavedMovies\";\n\nimport PageNotFound from \"../PageNotFound/PageNotFound\";\n\nimport InfoTooltip from \"../InfoTooltip/InfoTooltip\";\n\nimport Register from \"../Register/Register\";\nimport Login from \"../Login/Login\";\nimport Profile from \"../Profile/Profile\";\n\nimport * as auth from \"../../utils/auth\";\nimport mainApi from \"../../utils/MainApi\";\nimport moviesApi from \"../../utils/MoviesApi\";\n\nfunction App() {\n  const history = useHistory();\n\n  const [checkboxStatus, setCheckboxStatus] = useState(true);\n\n  const headerEndpoints = [\"/movies\", \"/saved-movies\", \"/profile\", \"/\"];\n  const footerEndpoints = [\"/movies\", \"/saved-movies\", \"/\"];\n\n  const [isTooltipPopupOpen, setIsTooltipPopupOpen] = useState(false);\n  const [isBurgerMenuOpen, setIsBurgerMenuOpen] = useState(false);\n  const [isLoading, setIsLoading] = useState(false); //для дизейбла кнопки, если происходит запрос\n\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [success, setSuccess] = useState(false);\n  const [popupText, setPopupText] = useState(\"\");\n  const [currentUser, setCurrentUser] = useState({\n    name: \"\",\n    email: \"\",\n    _id: \"\"\n  });\n\n  const [allMovies, setAllMovies] = useState([]);\n  const [foundMovies, setFoundMovies] = useState([]);\n  const [savedMovies, setSavedMovies] = useState([]);\n  const [savedMoviesCopy, setSavedMoviesCopy] = useState([]);\n\n  const [disabledCheckbox, setDisabledCheckbox] = useState(true);\n  const [disabledCheckboxSaved, setDisabledCheckboxSaved] = useState(true);\n\n  const [preloaderStatus, setPreloaderStatus] = useState(false);\n\n  useEffect(() => {\n    tokenCheck();\n  }, []);\n\n  useEffect(() => {\n    if (!localStorage.getItem(\"jwt\")) {\n      handleSignout();\n    }\n  }, []);\n\n  useEffect(() => {\n    if (\n      localStorage.getItem(\"searchedMovies\") &&\n      localStorage.getItem(\"checkboxStatus\")\n    ) {\n      const checkboxStatus = JSON.parse(localStorage.getItem(\"checkboxStatus\"));\n      handleSubmitCheckbox(checkboxStatus);\n    }\n  }, []);\n\n  //блокировка чекбокса если нет найденных фильмов\n  useEffect(() => {\n    foundMovies.length !== 0\n      ? setDisabledCheckbox(false)\n      : setDisabledCheckbox(true);\n  }, [foundMovies]);\n\n  //блокировка чекбокса если нет сохраненных фильмов\n  useEffect(() => {\n    savedMovies.length !== 0 || savedMoviesCopy.length !== 0\n      ? setDisabledCheckboxSaved(false)\n      : setDisabledCheckboxSaved(true);\n  }, [savedMovies, savedMoviesCopy]);\n\n  useEffect(() => {\n    if (loggedIn && currentUser) {\n      getSavedMovies();\n    }\n  }, [loggedIn, currentUser]);\n\n  function getSavedMovies() {\n    mainApi\n      .getSavedMovies()\n      .then((data) => {\n        const userMovies = data.filter((m) => m.owner === currentUser._id);\n        setSavedMovies(userMovies);\n        setSavedMoviesCopy(userMovies);\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function tokenCheck() {\n    if (localStorage.getItem(\"jwt\")) {\n      mainApi\n        .getUserInfo()\n        .then((response) => {\n          if (response) {\n            setCurrentUser({\n              name: response.name,\n              email: response.email,\n              _id: response._id\n            });\n            setLoggedIn(true);\n          }\n        })\n        .catch((err) => {\n          if (err.status === 401) {\n            handleSignout();\n          } else {\n            handleSignout();\n            setIsTooltipPopupOpen(true);\n            setSuccess(false);\n            setPopupText(`Ошибка ${err.statusText}`);\n          }\n        });\n    }\n  }\n\n  function closePopup() {\n    setIsTooltipPopupOpen(false);\n  }\n\n  function toggleBurgerMenuClick() {\n    setIsBurgerMenuOpen(!isBurgerMenuOpen);\n  }\n\n  function handleSearchMovie(movie, checked) {\n    if (allMovies.length !== 0) {\n      const searchMovies = allMovies.filter((item) =>\n        item.nameRU.toLowerCase().includes(movie.toLowerCase())\n      );\n      if (searchMovies.length === 0) {\n        setIsTooltipPopupOpen(true);\n        setPopupText(\"По вашему запросу ничего не найдено..\");\n        setSuccess(false);\n      } else {\n        setCheckboxStatus(false);\n        localStorage.setItem(\"movieName\", movie);\n        localStorage.setItem(\"searchedMovies\", JSON.stringify(searchMovies));\n        localStorage.setItem(\"checkboxStatus\", JSON.stringify(checked));\n        setFoundMovies(searchMovies);\n      }\n      return;\n    } else {\n      setPreloaderStatus(true);\n      moviesApi\n        .getMovies()\n        .then((moviesFromSearch) => {\n          const searchMovies = moviesFromSearch.filter((item) =>\n            item.nameRU.toLowerCase().includes(movie.toLowerCase())\n          );\n          if (searchMovies.length === 0) {\n            setIsTooltipPopupOpen(true);\n            setPopupText(\"По вашему запросу ничего не найдено.\");\n            setSuccess(false);\n          } else {\n            setCheckboxStatus(false);\n            localStorage.setItem(\"allMovies\", JSON.stringify(moviesFromSearch));\n            setAllMovies(moviesFromSearch);\n            localStorage.setItem(\"movieName\", movie);\n            localStorage.setItem(\n              \"searchedMovies\",\n              JSON.stringify(searchMovies)\n            );\n            localStorage.setItem(\"checkboxStatus\", JSON.stringify(checked));\n            setFoundMovies(searchMovies);\n          }\n        })\n        .catch((err) => console.log(err))\n        .finally(() => setPreloaderStatus(false));\n    }\n  }\n\n  function handleSearchSavedMovie(query, checkbox) {\n    setPreloaderStatus(true);\n    const searchMovies = savedMovies.filter((item) =>\n      item.nameRU.toLowerCase().includes(query.toLowerCase())\n    );\n    if (searchMovies.length === 0) {\n      setIsTooltipPopupOpen(true);\n      setPopupText(\"По вашему запросу ничего не найдено.\");\n      setSuccess(false);\n      setPreloaderStatus(false);\n    } else {\n      setCheckboxStatus(false);\n      localStorage.setItem(\"checkboxStatus\", JSON.stringify(checkbox));\n      setSavedMovies(searchMovies);\n      setPreloaderStatus(false);\n    }\n  }\n\n  function handleSubmitCheckbox(checkbox) {\n    let filteredMovies;\n    let movies = JSON.parse(localStorage.getItem(\"searchedMovies\"));\n    if (checkbox) {\n      filteredMovies = movies.filter((item) => item.duration <= 40);\n    } else if (!checkbox) {\n      filteredMovies = movies;\n    }\n    setFoundMovies(filteredMovies);\n    localStorage.setItem(\"checkboxStatus\", JSON.stringify(checkbox));\n  }\n\n  function handleSavedMoviesSubmitCheckbox(checkbox) {\n    if (checkbox) {\n      setSavedMovies(savedMovies.filter((item) => item.duration <= 40));\n    } else if (!checkbox) {\n      setSavedMovies(savedMoviesCopy);\n    }\n    localStorage.setItem(\"checkboxStatusSavedMovies\", JSON.stringify(checkbox));\n  }\n\n  function handleDeleteMovie(movie) {\n    mainApi\n      .deleteMovie(movie._id)\n      .then(() => {\n        const updateSavedMovies = savedMovies.filter(\n          (item) => item._id !== movie._id\n        );\n        setSavedMovies(updateSavedMovies);\n        setSavedMoviesCopy(\n          savedMoviesCopy.filter((item) => item._id !== movie._id)\n        );\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleSaveMovie(movie) {\n    mainApi\n      .createMovie(movie)\n      .then((res) => {\n        setSavedMovies(savedMovies.concat(res));\n        setSavedMoviesCopy(savedMoviesCopy.concat(res));\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleUpdateUser({ name, email }) {\n    setIsLoading(true);\n    mainApi\n      .editUserInfo({ name, email })\n      .then((newData) => {\n        setCurrentUser({\n          name: newData.name,\n          email: newData.email\n        });\n        setIsTooltipPopupOpen(true);\n        setSuccess(true);\n        setPopupText(\"Данные успешно изменены.\");\n      })\n      .catch((err) => {\n        setIsTooltipPopupOpen(true);\n        setSuccess(false);\n        setPopupText(`Ошибка: ${err}`);\n      })\n      .finally(() => setIsLoading(false));\n  }\n\n  function handleRegister({ name, email, password }) {\n    setIsLoading(true);\n    auth\n      .createUser({ name, email, password })\n      .then(() => {\n        handleLogin({ email, password });\n        history.push(\"/movies\");\n      })\n      .catch((err) => {\n        console.log(err);\n        if (err.status === 409) {\n          setSuccess(false);\n          setPopupText(\"Пользователь с таким email уже зарегистрирован.\");\n          setIsTooltipPopupOpen(true);\n        }\n        if (err.status === 500) {\n          setSuccess(false);\n          setPopupText(\"Произошла ошибка. Попробуйте ещё раз.\");\n          setIsTooltipPopupOpen(true);\n        }\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }\n\n  function handleLogin({ email, password }) {\n    setIsLoading(true);\n    auth\n      .authorize({ email, password })\n      .then((data) => {\n        if (!data) {\n          return console.log(\"Что-то пошло не так!\");\n        }\n\n        if (data.token) {\n          localStorage.setItem(\"jwt\", data.token);\n          setLoggedIn(true);\n          tokenCheck();\n          history.push(\"/movies\");\n        }\n      })\n      .catch((err) => {\n        if (err.status === 401) {\n          setSuccess(false);\n          setPopupText(\"Неверный логин или пароль.\");\n          setIsTooltipPopupOpen(true);\n        }\n        if (err.status === 500) {\n          setSuccess(false);\n          setPopupText(\"Произошла ошибка. Попробуйте ещё раз.\");\n          setIsTooltipPopupOpen(true);\n        }\n      })\n      .finally(() => setIsLoading(false));\n  }\n\n  function handleSignout() {\n    localStorage.clear();\n    setLoggedIn(false);\n    setFoundMovies([]);\n    setAllMovies([]);\n    setSavedMovies([]);\n    setCurrentUser({ name: \"\", email: \"\", _id: \"\" });\n    history.push(\"/\");\n  }\n\n  return (\n    <div className=\"App\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Route exact path={headerEndpoints}>\n          <Header\n            onBurgerClick={toggleBurgerMenuClick}\n            isOpen={isBurgerMenuOpen}\n            loggedIn={loggedIn}\n          />\n        </Route>\n        <Switch>\n          <Route exact path=\"/\">\n            <Main />\n          </Route>\n          <ProtectedRoute\n            path=\"/movies\"\n            component={Movies}\n            onSearch={handleSearchMovie}\n            foundMovies={foundMovies}\n            savedMovies={savedMovies}\n            onSaveMovie={handleSaveMovie}\n            onDeleteMovie={handleDeleteMovie}\n            disabled={checkboxStatus}\n            onSubmitCheckbox={handleSubmitCheckbox}\n            disabledCheckbox={disabledCheckbox}\n            preloaderStatus={preloaderStatus}\n          />\n          <ProtectedRoute\n            path=\"/saved-movies\"\n            component={SavedMovies}\n            onSearch={handleSearchSavedMovie}\n            savedMovies={savedMovies}\n            onSubmitCheckbox={handleSavedMoviesSubmitCheckbox}\n            disabled={checkboxStatus}\n            onDeleteMovie={handleDeleteMovie}\n            onSaveMovie={handleSaveMovie}\n            disabledCheckboxSaved={disabledCheckboxSaved}\n            preloaderStatus={preloaderStatus}\n          />\n          <Route exact path=\"/signup\">\n            {loggedIn ? (\n              <Redirect to=\"/\" />\n            ) : (\n              <Register onRegister={handleRegister} isLoading={isLoading} />\n            )}\n          </Route>\n          <Route exact path=\"/signin\">\n            {loggedIn ? (\n              <Redirect to=\"/\" />\n            ) : (\n              <Login\n                onLogin={handleLogin}\n                history={history}\n                isLoading={isLoading}\n              />\n            )}\n          </Route>\n          <ProtectedRoute\n            path=\"/profile\"\n            component={Profile}\n            onSignout={handleSignout}\n            loggedIn={loggedIn}\n            onUpdateUser={handleUpdateUser}\n            isLoading={isLoading}\n          />\n          <Route path=\"*\" component={PageNotFound} history={history} />\n        </Switch>\n        <Route exact path={footerEndpoints} component={Footer} />\n        <InfoTooltip\n          isOpen={isTooltipPopupOpen}\n          onClose={closePopup}\n          success={success}\n          text={popupText}\n        />\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}